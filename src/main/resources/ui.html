<!--
  #%L
  LearnPAd Simulator
  %%
  Copyright (C) 2014 - 2015 Linagora
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU Affero General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU Affero General Public License
  along with this program.  If not, see <http://www.gnu.org/licenses/>.
  #L%
  -->
<html>
    <head>
        <title>LearnPAd WebUI</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <style>
         @import url("webjars/bootstrap/3.3.2-1/css/bootstrap.css");
         @import url("webjars/spectrum/1.6.0/spectrum.css");
         @import url("webjars/bootstrap-tagsinput/0.3.9/bootstrap-tagsinput.css");
         @import url("webjars/jquery-ui/1.11.3/jquery-ui.min.css");
         @import url("webjars/jquery-ui/1.11.3/jquery-ui.theme.min.css");

         #form select { width: auto; }
         #form .add-on {
             border: none;
             background-color: inherit;
         }

         .expandable > legend:before {
             content: '\25B8';
             padding-right: 5px;
         }
         .expanded > legend:before {
             content: '\25BE';
         }

         ._jsonform-array-buttons {
             margin-left: 25px;
         }

         .jsonform-required > label:after {
             content: ' *';
             color: red;
         }

         form.jsonform-hasrequired:after {
             content: '* Required field';
             display: block;
             color: red;
             padding-top: 1em;
         }
         .inline-other-field > .other-field-content,
         .inline-other-field > label > .other-field-content {
             display: inline-block;
             margin: 0;
         }
         .inline-other-field > input[type=checkbox],
         .inline-other-field > label > input[type=checkbox] {
             margin-top: 8px;
         }
         .other-field-content > .control-group,
         .other-field-content > .control-group > .controls > input[type=text] {
             margin: 0;
         }

         .hidden {
             display: none;
         }
         .disabled {
             opacity: 0.5;
         }
         body {
             padding-top: 70px;
             padding-bottom: 70;
         }

         .userlist-parent {
             white-space:nowrap;
             overflow-x:scroll;
         }
         .userlist-user {
             display:inline-block;
         }
         .dropdown-menu {
             width: 160%;
         }
        </style>

    </head>
    <body>

        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a href="ui">
                        <img height="45px" alt="LeanrPAd" src="resources/img/logo-pic.svg">
                        <img class="hidden-xs" height="35px" alt="LearnPAd" src="resources/img/logo-text.svg">
                    </a>
                    <button type="button" class="navbar-toggle collapsed"
                            data-toggle="collapse" data-target="#nav-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div id="nav-collapse" class="navbar-right collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li>
                            <form class="navbar-form navbar-left" role="search">
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Search" disabled="true">
                                </div>
                            </form>
                        </li>
                        <li>
                            <a href="uiprocess" class ="navbar-link">
                                Launch a Process
                            </a>
                        </li>
                        <li class="active">
                            <a href="ui" class ="navbar-link">
                                Take a Role
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container-fluid">

            <form id="connect" class="form-inline">
	        <div class="form-group">
	            <label for="uiid">UI Id:&nbsp;</label>
	            <input id="uiid" type="text" class="form-control"/>
	            <button id="connectBn"
		            type="submit" class="btn btn-default">connect</button>
	        </div>
            </form>
            <div class="userui row hidden">

                <div class="col-sm-2 list-group">
                    <a href="#" class="list-group-item disabled active">Simulation </a>
                    <a href="#" class="list-group-item disabled">
                        <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
                         Play
                    </a>
                    <a href="#" class="list-group-item disabled">
                        <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>
                         Pause
                    </a>
                    <a href="#" class="list-group-item disabled">
                        <span class="glyphicon glyphicon-stop" aria-hidden="true"></span>
                         Stop
                    </a>
                    <a href="#" class="list-group-item disabled">
                        <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                         Save
                    </a>
                    <a href="#" class="list-group-item disabled">
                        <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                         Coordinator: Sally
                    </a>
                </div>

                <div class="col-sm-7">
                    <ul id="taskstable" class="nav nav-tabs" role="tablist">
                    </ul>
                    <div id="tasks" class="content tab-content">
                    </div>
                </div>
                <div id="userlist-container" class="col-sm-3">
                    <div class="panel panel-default userui-parent">
                        <div id="user-sally" class="userlist-user"><a tabindex="0" data-toggle="popover" data-trigger="focus" data-placement="bottom" data-content="<ul><li>Sally Shugar works for the Monti Azzurri Consortium since five years. Since three years she is head of the SUAP office.</li><li>She speaks fluently French, Spanish and English; her mother tongue is Italien. She also has profound knowledge in legislation.</li><li> She is responsible for the SUAP process and familiar with process modelling.</li><li>She set up the goals for the organisational unit and for the process and defined the KPIs to be met. She further defined the roles and competencies needed to perform the process, respectively its tasks.</li></ul>"><img src="resources/img/SallyShugar.jpg" alt="Sally" class="img-circle" /><p align="center">Sally</p></a></div>
                        <div id="user-barnaby" class="userlist-user"><a tabindex="0" data-toggle="popover" data-trigger="focus" data-placement="bottom" data-content="<ul><li>Barnaby joins the Monti Azzurri Consortium recently. His professional background is as a legal assistant.</li><li>The daily activity of Barnaby are:<ul><li> Provide some information to the entrepreneurs that aim to open an activity;</li><li>He receives the SCIA COMMERCIALE BP request from the entrepreneur, this can be done by mail or by web form. He checks if the requests instance is admissible. He ask for integration to the entrepreneur. He forwards the request to the involved municipality offices and to third parties. He communicate the final decision about the instance to the entrepreneurs.</li><li>He cares about all the other BPs involved in the SUAP office.</li><li>He is use to do inspection to check if declaration are fitting with the reality.</li></ul></ul>"><img src="resources/img/BarnabyBarnes.jpg" alt="Barnaby" class="img-circle"><p align="center">Barnaby</p></a></div>
                    </div>
                </div>
            </div>

        </div>

        <nav class="userui navbar navbar-inverse navbar-fixed-bottom hidden">
            <div class="container ">
                <button type="button" class="btn btn-default navbar-btn" disabled="true">Chat with group</button>
                <div class="btn-group dropup">
                    <button id="connectchat" type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                        Chat with an expert <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                    </button>
                    <ul class="dropdown-menu pull-right" role="menu">
                        <li><div id="chatcontainer" class="panel-body" onclick=" event.stopPropagation();"></div></li>
                    </ul>
                </div>
                <span class="navbar-text navbar-right"> Notifications <span class="badge">0</span></span>
            </div>
        </nav>

        <script type="text/javascript" src="webjars/jquery/2.1.3/jquery.min.js"></script>
        <script type="text/javascript" src="webjars/jquery-ui/1.11.3/jquery-ui.min.js"></script>
        <script type="text/javascript" src="webjars/underscorejs/1.7.0/underscore-min.js"></script>
        <script type="text/javascript" src="webjars/bootstrap/3.3.2-1/js/tab.js"></script>
        <script type="text/javascript" src="webjars/bootstrap/3.3.2-1/js/dropdown.js"></script>
        <script type="text/javascript" src="webjars/bootstrap/3.3.2-1/js/transition.js"></script>
        <script type="text/javascript" src="webjars/bootstrap/3.3.2-1/js/collapse.js"></script>
        <script type="text/javascript" src="webjars/bootstrap/3.3.2-1/js/tooltip.js"></script>
        <script type="text/javascript" src="webjars/bootstrap/3.3.2-1/js/popover.js"></script>
        <script type="text/javascript" src="webjars/bootstrap-tagsinput/0.3.9/bootstrap-tagsinput.min.js"></script>
        <script type="text/javascript" src="webjars/Bootstrap-3-Typeahead/3.1.0/bootstrap3-typeahead.min.js"></script>
        <script type="text/javascript" src="webjars/spectrum/1.6.0/spectrum.js"></script>

        <script type="text/javascript" src="resources/deps/opt/ZSchema-browser.js"></script>
        <script type="text/javascript" src="resources/lib/jquery.slimscroll.min.js"></script>
        <script type="text/javascript" src="resources/lib/jsonform.js"></script>

        <script type="text/javascript" src="resources/Task-jsonform.js"></script>
        <script type="text/javascript" src="resources/Task.js"></script>
        <script type="text/javascript" src="resources/Webchat.js"></script>
        <script type="text/javascript" src="resources/TaskReceiver.js"></script>

        <script type="text/javascript">
         'use strict';
         if (!window.WebSocket){
             alert("WebSocket not supported by this browser");
         }

         // initialize popovers
         $('[data-toggle="popover"]').popover( { 'html':true } )
        </script>


        <script type="text/javascript">
         'use strict';
         var userid;
         $('#connectBn').click(function(event) {
             userid = $('#uiid').val().toLowerCase();
             var receiver = taskReceiver(#serveripaddress#, userid);
             chat('chatcontainer', #serveripaddress#, userid);
             var content = $('#user-' + userid + ' p').html();
            $('#user-' + userid + ' img').attr('style', 'border:1px solid black');
            $('#user-' + userid + ' p').html('<b>' + content + '</b>')
             return false;
         });
        </script>

    </body>
</html>
